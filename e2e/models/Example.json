{
  "$attributes": {
    "findAll": [
      "url",
      "blob",
      "file",
      "title",
      "fileset.name",
      "fileset.path",
      "fileset.size",
      "fileset.mtime",
      "file.name",
      "file.path",
      "file.size",
      "file.mtime"
    ]
  },
  "$uiSchema": {
    "ui:add": false,
    "ui:pending": "Saving changes...",
    "ui:fields": ["id", "title", "url", "file", "blob", "fileset"],
    "ui:headers": ["#", "Example", "URL", "File", "Blob", "Attachments"],
    "blob": {
      "ui:template": [["div", "{@embed:this}"]],
      "ui:component": "FileUpload",
      "ui:attachment": true
    },
    "url": {
      "ui:template": [["div", "{@file:this}"]],
      "ui:component": "FileUpload"
    },
    "file": {
      "ui:template": [["div", "{@embed:this}"]],
      "ui:component": "FileUpload"
    },
    "fileset": {
      "ui:template": [["div", "{@embed:*.File}"]],
      "ui:add": false,
      "ui:fields": ["label", "File"],
      "id": {
        "ui:hidden": true
      },
      "File": {
        "ui:component": "FileUpload",
        "ui:template": [["div", "{@file:this}"]]
      },
      "ExampleId": {
        "ui:hidden": true
      }
    },
    "id": {
      "ui:edit": false
    }
  },
  "$schema": {
    "id": "Example",
    "properties": {
      "id": {
        "type": "integer",
        "primaryKey": true
      },
      "title": {
        "type": "string"
      },
      "blob": {
        "attachment": true,
        "type": "string"
      },
      "url": {
        "type": "string"
      },
      "file": {
        "$ref": "File"
      },
      "fileset": {
        "type": "array",
        "items": {
          "$ref": "File",
          "belongsToMany": {
            "through": {
              "model": "Attachment"
            }
          }
        }
      }
    },
    "required": ["title"]
  }
}
