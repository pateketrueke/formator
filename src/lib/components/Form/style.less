@import './utilities';

table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;

  ~ div {
    margin-top: @sp2;
  }

  td ~ th {
    width: 1%;
  }

  td,
  td ~ th {
    padding: @sp2;
  }

  thead {
    th {
      background-color: lighten(@light, 20);
      text-align: left;
      padding: 0 @sp2;
    }
  }

  tbody {
    tr:nth-child(even) { background-color: lighten(@light, 32); }
    tr:nth-child(odd) { background-color: lighten(@light, 30); }
    tr:hover { background-color: @hover; }
  }
}

> table {
  xborder-bottom: 1px dashed @light;
}

> table ~ div {
  padding: @sp2;
  margin: 0;
}

small.invalid {
  color: @error;

  + small.invalid::before {
    content: '; ';
  }
}

.invalid > td:first-child,
.invalid > label + div,
td.invalid  {
  position: relative;

  &::before {
    left: -(@sp2 + 2px);
    width: 2px;
    height: 100%;
    content: ' ';
    position: absolute;
    background-color: @error;
  }
}

.invalid {
  > div:only-child {
    outline: 1px solid @error;
  }
}

[data-body],
[data-actions] {
  padding: @sp2;
}

[data-actions] {
  border-top: 1px solid rgba(0, 0, 0, .1);
}

[data-titlebar] {
  border-bottom: 1px solid rgba(0, 0, 0, .1);
  min-height: 1.6em;
  padding: @sp2;
  *zoom: 1;

  &::before,
  &::after {
    content: ' ';
    display: table;
  }

  &::after {
    clear: both;
  }

  button {
    padding: (@sp1 / 2) @sp1;
  }

  h3 {
    line-height: 1;
  }
}

[data-cancel] {
  float: right;
}

> fieldset,
form > fieldset {
  padding: @sp2;
}

form {
  > input {
    margin: @sp2;
  }

  > div {
    padding: @sp2;
    border-top: 1px dashed @light;
  }
}

pre {
  + button {
    margin-top: @sp1;
  }
}

caption, h2 {
  padding: @sp2;
  text-align: left;
  font-size: 1.5em;
  font-weight: bold;
  border-bottom: 1px dashed @light;
}

a {
  text-decoration: none;
  opacity: .5;

  &:hover {
    opacity: 1;
    color: blue;
    text-decoration: underline;
  }

  &:focus {
    opacity: 1;
  }
}

th,
h2,
span,
label,
button,
summary {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  white-space: nowrap;
}

fieldset {
  width: 100%;
  border: 0;

  > ul {
    > [data-type=array] {
      > div {
        display: block;
      }

      @media @sm {
        > div {
          display: flex;
        }
      }
    }
  }
}

> details {
  border: 1px dashed @error;

  summary {
    padding: @sp1;
  }
}

summary {
  cursor: default;
  color: @error;
  padding: 0 @sp1;
  font-size: 12px;
  white-space: nowrap;
}

ul {
  list-style-type: none;
}

li {
  &[data-type] {
    border-bottom: 1px dashed @light;
    margin-bottom: @sp2;
    min-height: 12px * 2;
    position: relative;
    line-height: 1.5;
    width: 100%;

    &:last-child {
      margin-bottom: 0;
      border: 0;
    }
  }

  &[data-type="object"] {
    margin-bottom: 0;
  }

  details {
    border: 1px solid transparent;
    position: absolute;
    right: 0;

    &[open] {
      border: 1px dashed @light;
      background-color: @white;
      z-index: 1;
    }

    > * {
      overflow: auto;
    }
  }

  > div {
    display: flex;
  }
}
