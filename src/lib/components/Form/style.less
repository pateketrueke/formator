@import './utilities';

table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;

  ~ div {
    margin-top: @sp2;
  }

  td ~ th {
    width: 1%;
  }

  td,
  td ~ th,
  thead th {
    padding: @sp2;
  }

  thead {
    th {
      background-color: lighten(@light, 20);
    }
  }

  tbody {
    tr:nth-child(even) { background-color: lighten(@light, 32); }
    tr:nth-child(odd) { background-color: lighten(@light, 30); }
    tr:hover { background-color: @hover; }
  }
}

> table ~ div {
  border-top: 1px dashed @light;
  padding: @sp2;
  margin: 0;
}

.invalid > td:first-child,
.invalid > label + div,
td.invalid  {
  position: relative;

  &::before {
    left: -(@sp2 + 2px);
    width: 2px;
    height: 100%;
    content: ' ';
    position: absolute;
    background-color: @error;
  }
}

.invalid{
  > div:only-child {
    outline: 1px solid @error;
  }
}

> fieldset,
form > fieldset {
  padding: @sp2;
}

form {
  > div {
    padding: @sp2;
    border-top: 1px dashed @light;
  }
}

h2 {
  padding: @sp2;
  border-bottom: 1px dashed @light;
}

a {
  text-decoration: none;
  opacity: .5;

  &:hover {
    opacity: 1;
    color: blue;
    text-decoration: underline;
  }

  &:focus {
    opacity: 1;
  }
}

th,
h2,
label,
button,
summary {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  white-space: nowrap;
}

fieldset {
  width: 100%;
  border: 0;

  ~ div {
    > button {
      &:nth-child(2) {
        float: right;
      }
    }
  }
}

> details {
  border: 1px dashed @error;

  summary {
    padding: @sp1;
  }
}

summary {
  cursor: default;
  color: @error;
  padding: 0 @sp1;
  font-size: 12px;
  white-space: nowrap;
}

ul {
  list-style-type: none;
}

li {
  border-bottom: 1px dashed @light;
  min-height: 12px * 2;
  position: relative;
  line-height: 1.5;
  width: 100%;

  &:last-child {
    border: 0;
  }

  details {
    border: 1px solid transparent;
    position: absolute;
    right: 0;

    &[open] {
      border: 1px dashed @light;
      background-color: @white;
      z-index: 1;
    }

    > * {
      overflow: auto;
    }
  }

  @media @sm {
    > div {
      display: flex;
    }
  }
}
